{
    "version": "v2",
    "type": "user-interface",
    "title": "Angular Shopping Cart (solution: immutable cart updates)",
    "openFile": "/src/app/app.component.ts",
    "dependencies": {
        "@angular/core": "17.1.0",
        "@angular/common": "17.1.0",
        "@angular/platform-browser": "17.1.0",
        "rxjs": "7.8.1",
        "zone.js": "^0.14.2"
    },
    "files": {
        "/package.json": {
            "code": "{\n  \"name\": \"angular-shopping-cart-solution\",\n  \"private\": true\n}\n"
        },
        "/src/main.ts": {
            "code": "import { bootstrapApplication } from '@angular/platform-browser';\nimport { AppComponent } from './app/app.component';\n\nbootstrapApplication(AppComponent).catch(console.error);\n"
        },
        "/src/index.html": {
            "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>Angular SDK â€¢ Shopping Cart (solution)</title>\n  </head>\n  <body>\n    <app-root></app-root>\n  </body>\n</html>\n"
        },
        "/src/app/app.component.ts": {
            "code": "import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n}\n\ninterface CartItem extends Product {\n  quantity: number;\n}\n\nconst PRODUCTS: Product[] = [\n  { id: 'p1', name: 'Wireless Headphones', price: 129.99 },\n  { id: 'p2', name: 'Mechanical Keyboard', price: 89.5 },\n  { id: 'p3', name: 'Ergonomic Mouse', price: 49.99 },\n  { id: 'p4', name: 'USB-C Hub', price: 39.0 }\n];\n\n@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  products = PRODUCTS;\n  cartItems: CartItem[] = [];\n\n  get totalQty(): number {\n    return this.cartItems.reduce((sum, item) => sum + item.quantity, 0);\n  }\n\n  get totalPrice(): number {\n    return this.cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  }\n\n  trackByProductId(index: number, item: Product): string {\n    return item.id;\n  }\n\n  trackByCartItemId(index: number, item: CartItem): string {\n    return item.id;\n  }\n\n  addToCart(product: Product): void {\n    const existing = this.cartItems.find(i => i.id === product.id);\n    if (!existing) {\n      this.cartItems = [\n        ...this.cartItems,\n        { ...product, quantity: 1 }\n      ];\n    } else {\n      this.cartItems = this.cartItems.map(i =>\n        i.id === product.id ? { ...i, quantity: i.quantity + 1 } : i\n      );\n    }\n  }\n\n  increaseQty(item: CartItem): void {\n    this.cartItems = this.cartItems.map(i =>\n      i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i\n    );\n  }\n\n  decreaseQty(item: CartItem): void {\n    if (item.quantity <= 1) {\n      this.removeItem(item);\n      return;\n    }\n\n    this.cartItems = this.cartItems.map(i =>\n      i.id === item.id ? { ...i, quantity: i.quantity - 1 } : i\n    );\n  }\n\n  removeItem(item: CartItem): void {\n    this.cartItems = this.cartItems.filter(i => i.id !== item.id);\n  }\n}\n"
        },
        "/src/app/app.component.html": {
            "code": "<main class=\"app\">\n  <section class=\"layout\">\n    <!-- Products -->\n    <section class=\"column\">\n      <h1 class=\"title\">Products</h1>\n      <ul class=\"product-list\">\n        <li\n          class=\"product-card\"\n          *ngFor=\"let p of products; trackBy: trackByProductId\"\n        >\n          <div class=\"product-main\">\n            <div class=\"product-name\">{{ p.name }}</div>\n            <div class=\"product-price\">{{ p.price | currency:'USD':'symbol':'1.2-2' }}</div>\n          </div>\n          <button type=\"button\" (click)=\"addToCart(p)\">\n            Add to cart\n          </button>\n        </li>\n      </ul>\n    </section>\n\n    <!-- Cart -->\n    <section class=\"column\">\n      <header class=\"cart-header\">\n        <h1 class=\"title\">Cart</h1>\n        <p class=\"subtitle\">\n          Total items: <strong>{{ totalQty }}</strong>\n          \u00b7\n          Total: <strong>{{ totalPrice | currency:'USD':'symbol':'1.2-2' }}</strong>\n        </p>\n      </header>\n\n      <ng-container *ngIf=\"cartItems.length; else emptyCart\">\n        <ul class=\"cart-list\">\n          <li\n            class=\"cart-row\"\n            *ngFor=\"let item of cartItems; trackBy: trackByCartItemId\"\n          >\n            <div class=\"cart-info\">\n              <div class=\"cart-name\">{{ item.name }}</div>\n              <div class=\"cart-meta\">\n                <span class=\"unit-price\">{{ item.price | currency:'USD':'symbol':'1.2-2' }}</span>\n                <span class=\"times\">x</span>\n                <span class=\"qty\">{{ item.quantity }}</span>\n                <span class=\"equals\">=</span>\n                <span class=\"line-total\">\n                  {{ item.price * item.quantity | currency:'USD':'symbol':'1.2-2' }}\n                </span>\n              </div>\n            </div>\n\n            <div class=\"cart-actions\">\n              <button\n                type=\"button\"\n                class=\"ghost\"\n                (click)=\"decreaseQty(item)\"\n                aria-label=\"decrease quantity\"\n              >\n                \u2212\n              </button>\n              <button\n                type=\"button\"\n                class=\"ghost\"\n                (click)=\"increaseQty(item)\"\n                aria-label=\"increase quantity\"\n              >\n                +\n              </button>\n              <button\n                type=\"button\"\n                class=\"danger\"\n                (click)=\"removeItem(item)\"\n              >\n                Remove\n              </button>\n            </div>\n          </li>\n        </ul>\n      </ng-container>\n\n      <ng-template #emptyCart>\n        <p class=\"empty\">Your cart is empty. Add something from the left.</p>\n      </ng-template>\n    </section>\n  </section>\n</main>\n"
        },
        "/src/app/app.component.css": {
            "code": ".app{min-height:100vh;display:grid;place-items:center;background:#020617;color:#e5e7eb;padding:24px;}\n.layout{width:100%;max-width:520px;display:grid;gap:16px;}\n.column{background:#020617;border-radius:16px;border:1px solid #1f2937;padding:16px 16px 12px;display:grid;gap:12px;}\n.title{margin:0;font-size:18px;font-weight:700;}\n.subtitle{margin:4px 0 0;font-size:13px;color:#9ca3af;}\n.product-list,.cart-list{list-style:none;margin:0;padding:0;display:grid;gap:8px;}\n.product-card{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:10px 10px;border-radius:12px;border:1px solid #1f2937;background:#020617;}\n.product-main{display:grid;gap:2px;}\n.product-name{font-size:14px;font-weight:600;}\n.product-price{font-size:13px;color:#a3e635;}\n.cart-header{display:grid;gap:4px;}\n.cart-row{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:10px 10px;border-radius:12px;border:1px solid #1f2937;background:#020617;}\n.cart-info{display:grid;gap:4px;}\n.cart-name{font-size:14px;font-weight:600;}\n.cart-meta{display:flex;align-items:center;gap:4px;font-size:12px;color:#9ca3af;}\n.unit-price,.line-total{font-variant-numeric:tabular-nums;}\n.times,.equals{opacity:.7;}\n.cart-actions{display:flex;gap:6px;}\nbutton{border-radius:999px;border:1px solid #374151;background:#020617;color:#e5e7eb;padding:6px 12px;font-size:13px;font-weight:600;cursor:pointer;}\nbutton:hover{border-color:#a3e635;}\nbutton.ghost{background:transparent;}\nbutton.danger{border-color:#f97316;color:#f97316;}\n.empty{margin:4px 0 0;font-size:13px;color:#6b7280;}\n"
        },
        "/src/styles.css": {
            "code": ":root{color-scheme:dark;}html,body{margin:0;height:100%;background:#020617;}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}\n"
        },
        "/tsconfig.json": {
            "code": "{\n  \"compilerOptions\": {\n    \"target\": \"es2022\",\n    \"strict\": true,\n    \"noEmitOnError\": false\n  }\n}\n"
        }
    }
}