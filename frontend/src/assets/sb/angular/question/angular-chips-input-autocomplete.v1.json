{
  "version": "v1",
  "type": "user-interface",
  "title": "Angular Invite Chips Input (starter)",
  "openFile": "/src/app/app.component.ts",
  "dependencies": {
    "@angular/core": "17.1.0",
    "@angular/common": "17.1.0",
    "@angular/forms": "17.1.0",
    "@angular/platform-browser": "17.1.0",
    "rxjs": "7.8.1",
    "zone.js": "^0.14.2"
  },
  "files": {
    "/package.json": {
      "code": "{\n  \"name\": \"angular-chips-input-autocomplete\",\n  \"private\": true\n}\n"
    },
    "/src/main.ts": {
      "code": "import { bootstrapApplication } from '@angular/platform-browser';\nimport { AppComponent } from './app/app.component';\nbootstrapApplication(AppComponent).catch(console.error);\n"
    },
    "/src/index.html": {
      "code": "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>Angular SDK • Invite Chips</title>\n  </head>\n  <body>\n    <app-root></app-root>\n  </body>\n</html>\n"
    },
    "/src/app/app.component.ts": {
      "code": "import { CommonModule } from '@angular/common';\nimport { Component, ElementRef, HostListener, inject } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\ntype Candidate = {\n  id: string;\n  name: string;\n  email: string;\n};\n\ntype Chip = {\n  id: string;\n  label: string;\n  value: string;\n};\n\n@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  private readonly host = inject(ElementRef<HTMLElement>);\n\n  readonly listboxId = 'invite-suggestions';\n\n  readonly users: Candidate[] = [\n    { id: 'alice', name: 'Alice Johnson', email: 'alice@frontendatlas.dev' },\n    { id: 'bob', name: 'Bob Smith', email: 'bob@frontendatlas.dev' },\n    { id: 'charlie', name: 'Charlie Kim', email: 'charlie@frontendatlas.dev' },\n    { id: 'diana', name: 'Diana Lopez', email: 'diana@frontendatlas.dev' },\n    { id: 'ethan', name: 'Ethan Brown', email: 'ethan@frontendatlas.dev' },\n    { id: 'fiona', name: 'Fiona Patel', email: 'fiona@frontendatlas.dev' },\n    { id: 'george', name: 'George Miller', email: 'george@frontendatlas.dev' }\n  ];\n\n  chips: Chip[] = [];\n  query = '';\n  isOpen = false;\n  activeIndex = -1;\n\n  get suggestions(): Chip[] {\n    // TODO:\n    // 1) trim+lower query\n    // 2) filter users by name/email includes query\n    // 3) remove users already selected in chips\n    // 4) map to Chip shape + limit to 6\n    return [];\n  }\n\n  onInput(value: string): void {\n    this.query = value;\n    this.activeIndex = -1;\n    // TODO: open dropdown only when query has text and suggestions exist\n  }\n\n  onFocus(): void {\n    // TODO: open dropdown when query has text and suggestions exist\n  }\n\n  addChip(chip: Chip): void {\n    // TODO: prevent duplicates by id or normalized value\n    // then append chip, clear query, close dropdown, reset active index\n  }\n\n  addCustomFromQuery(): void {\n    // TODO: if query has text, create custom chip: id='custom-'+normalize(query)\n    // and call addChip(...)\n  }\n\n  removeChip(chipId: string): void {\n    // TODO: remove chip by id\n  }\n\n  selectSuggestion(chip: Chip): void {\n    // TODO: add selected suggestion chip\n  }\n\n  handleKeyDown(event: KeyboardEvent): void {\n    // TODO:\n    // ArrowDown/ArrowUp => move active suggestion (wrap around)\n    // Enter => select active suggestion if present, otherwise add custom\n    // comma => add custom\n    // Backspace on empty query => remove last chip\n    // Escape => close suggestions\n  }\n\n  trackById(_: number, item: Chip): string {\n    return item.id;\n  }\n\n  optionId(index: number): string {\n    return 'invite-option-' + String(index);\n  }\n\n  get activeDescendant(): string | null {\n    return this.activeIndex >= 0 ? this.optionId(this.activeIndex) : null;\n  }\n\n  @HostListener('document:mousedown', ['$event'])\n  onDocMouseDown(event: MouseEvent): void {\n    const target = event.target as Node | null;\n    if (!target) return;\n    if (!this.host.nativeElement.contains(target)) {\n      this.isOpen = false;\n      this.activeIndex = -1;\n    }\n  }\n\n  private normalize(value: string): string {\n    return value.trim().toLowerCase();\n  }\n}\n"
    },
    "/src/app/app.component.html": {
      "code": "<main class=\"page\">\n  <section class=\"card\">\n    <h1>Invite people</h1>\n    <p class=\"subtitle\">\n      Build a chips input with autocomplete, keyboard shortcuts, and removable tags.\n    </p>\n\n    <div\n      class=\"combobox\"\n      role=\"combobox\"\n      [attr.aria-expanded]=\"isOpen\"\n      aria-haspopup=\"listbox\"\n      [attr.aria-owns]=\"listboxId\"\n      [attr.aria-activedescendant]=\"activeDescendant\"\n    >\n      <div class=\"chip-input\">\n        <span class=\"chip\" *ngFor=\"let chip of chips; trackBy: trackById\">\n          <span>{{ chip.label }}</span>\n          <button\n            type=\"button\"\n            class=\"chip-remove\"\n            (click)=\"removeChip(chip.id)\"\n            [attr.aria-label]=\"'Remove ' + chip.label\"\n          >\n            ×\n          </button>\n        </span>\n\n        <input\n          type=\"text\"\n          [ngModel]=\"query\"\n          (ngModelChange)=\"onInput($event)\"\n          (focus)=\"onFocus()\"\n          (keydown)=\"handleKeyDown($event)\"\n          placeholder=\"Type a name or email...\"\n        />\n      </div>\n\n      <ul *ngIf=\"isOpen\" [id]=\"listboxId\" class=\"suggestions\" role=\"listbox\">\n        <li\n          *ngFor=\"let item of suggestions; let i = index; trackBy: trackById\"\n          [id]=\"optionId(i)\"\n          role=\"option\"\n          [attr.aria-selected]=\"i === activeIndex\"\n          [class.suggestion]=\"true\"\n          [class.active]=\"i === activeIndex\"\n          (mousedown)=\"selectSuggestion(item)\"\n        >\n          <strong>{{ item.label }}</strong>\n          <span>{{ item.value }}</span>\n        </li>\n      </ul>\n    </div>\n\n    <p class=\"hint\">\n      Keyboard: Arrow keys navigate, Enter/comma add chip, Backspace removes the last chip.\n    </p>\n  </section>\n</main>\n"
    },
    "/src/app/app.component.css": {
      "code": ".page{min-height:100vh;display:grid;place-items:center;padding:24px;background:#0a0a0a;color:#e5e7eb;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}\n.card{width:100%;max-width:640px;background:#0b1020;border:1px solid #1f2937;border-radius:14px;padding:18px;display:grid;gap:12px;}\nh1{margin:0;font-size:20px;}\n.subtitle{margin:0;color:#9ca3af;font-size:14px;line-height:1.45;}\n.combobox{position:relative;}\n.chip-input{display:flex;flex-wrap:wrap;align-items:center;gap:8px;padding:10px;border-radius:12px;border:1px solid #374151;background:#0a0f1e;}\n.chip-input:focus-within{border-color:#a3e635;box-shadow:0 0 0 2px rgba(163,230,53,.15);}\n.chip{display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border-radius:999px;background:#172036;border:1px solid #2c3c62;font-size:13px;}\n.chip-remove{border:none;background:transparent;color:#9ca3af;cursor:pointer;font-size:16px;line-height:1;padding:0;}\n.chip-remove:hover{color:#e5e7eb;}\n.chip-input input{flex:1;min-width:180px;border:none;outline:none;background:transparent;color:#e5e7eb;font-size:14px;padding:4px 0;}\n.chip-input input::placeholder{color:#6b7280;}\n.suggestions{position:absolute;left:0;right:0;z-index:10;margin-top:8px;max-height:260px;overflow:auto;border-radius:12px;border:1px solid #1f2937;background:#0a0f1e;padding:0;list-style:none;}\n.suggestion{display:grid;gap:2px;padding:10px 12px;border-bottom:1px solid rgba(31,41,55,.5);cursor:pointer;}\n.suggestion:last-child{border-bottom:none;}\n.suggestion span{font-size:12px;color:#9ca3af;}\n.suggestion.active{background:rgba(163,230,53,.12);}\n.hint{margin:0;color:#9ca3af;font-size:12px;}\n"
    },
    "/src/styles.css": {
      "code": ":root{color-scheme:dark;}html,body{margin:0;height:100%;background:#0a0a0a;}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}\n"
    },
    "/tsconfig.json": {
      "code": "{\n  \"compilerOptions\": {\n    \"target\": \"es2022\",\n    \"strict\": true,\n    \"noEmitOnError\": false\n  }\n}\n"
    }
  }
}
