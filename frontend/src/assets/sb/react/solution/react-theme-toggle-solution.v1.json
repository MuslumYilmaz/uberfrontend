{
    "dependencies": {
        "react": "18.x",
        "react-dom": "18.x",
        "react-scripts": "5.0.1"
    },
    "openFile": "/src/App.tsx",
    "files": {
        "package.json": "{\n  \"name\": \"react-theme-toggle-solution\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"react\": \"18.x\",\n    \"react-dom\": \"18.x\",\n    \"react-scripts\": \"5.0.1\"\n  },\n  \"scripts\": { \"start\": \"react-scripts start\" }\n}\n",
        "public/index.html": "<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>React SDK ‚Ä¢ Theme Toggle (solution)</title></head><body><div id=\"root\"></div></body></html>",
        "src/index.tsx": "import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\n\ncreateRoot(document.getElementById('root')!).render(<App />);\n",
        "src/theme.tsx": "import React, { createContext, useCallback, useContext, useEffect, useState } from 'react';\n\nexport type Theme = 'light' | 'dark';\n\nconst STORAGE_KEY = 'uf-theme';\n\ntype ThemeContextValue = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  toggleTheme: () => void;\n};\n\n// Avoid generics here to keep the editor happy.\nexport const ThemeContext = createContext(null as unknown as ThemeContextValue);\n\nfunction getInitialTheme(): Theme {\n  if (typeof window === 'undefined') {\n    return 'light';\n  }\n\n  const stored = window.localStorage.getItem(STORAGE_KEY);\n  const initial = stored === 'dark' || stored === 'light' ? stored : 'light';\n\n  if (typeof document !== 'undefined') {\n    document.documentElement.setAttribute('data-theme', initial);\n  }\n\n  return initial as Theme;\n}\n\nexport function ThemeProvider({ children }: { children: any }) {\n  const [theme, setThemeState] = useState(getInitialTheme());\n\n  // Sync theme ‚Üí localStorage and <html data-theme>\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem(STORAGE_KEY, theme);\n    }\n    if (typeof document !== 'undefined') {\n      document.documentElement.setAttribute('data-theme', theme);\n    }\n  }, [theme]);\n\n  const setTheme = useCallback((next: Theme) => {\n    setThemeState(next);\n  }, []);\n\n  const toggleTheme = useCallback(() => {\n    setThemeState((prev) => (prev === 'light' ? 'dark' : 'light'));\n  }, []);\n\n  const value: ThemeContextValue = {\n    theme,\n    setTheme,\n    toggleTheme\n  };\n\n  return (\n    <ThemeContext.Provider value={value}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme(): ThemeContextValue {\n  const ctx = useContext(ThemeContext);\n  if (!ctx) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return ctx;\n}\n",
        "src/App.tsx": "import React from 'react';\nimport './App.css';\nimport { ThemeProvider, useTheme } from './theme';\n\nfunction Page() {\n  const { theme, toggleTheme } = useTheme();\n  const isDark = theme === 'dark';\n\n  const handleToggleClick = () => {\n    toggleTheme();\n  };\n\n  return (\n    <main className=\"main\">\n      <header className=\"app-header\">\n        <h1 className=\"app-title\">Theme Toggle (React Solution)</h1>\n\n        <button\n          type=\"button\"\n          className=\"theme-toggle\"\n          onClick={handleToggleClick}\n          aria-label=\"Toggle theme\"\n        >\n          <span className=\"icon\" aria-hidden=\"true\">{isDark ? 'üåô' : '‚òÄÔ∏è'}</span>\n          <span className=\"label\">{isDark ? 'Dark' : 'Light'}</span>\n        </button>\n      </header>\n\n      <section className=\"content\">\n        <div className=\"card\">\n          <h2>Preview area</h2>\n          <p>\n            The background, text, and card colors are driven by the current theme\n            via the <code>data-theme</code> attribute on <code>&lt;html&gt;</code>.\n            Toggle the theme and refresh the page to verify that localStorage is respected.\n          </p>\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default function App() {\n  return (\n    <ThemeProvider>\n      <Page />\n    </ThemeProvider>\n  );\n}\n",
        "src/App.css": ":root {\n  color-scheme: light;\n}\n\n:root[data-theme='dark'] {\n  color-scheme: dark;\n}\n\nhtml, body {\n  margin: 0;\n  height: 100%;\n}\n\nbody {\n  background: #f9fafb;\n  color: #020617;\n  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;\n}\n\n:root[data-theme='dark'] body {\n  background: #020617;\n  color: #e5e7eb;\n}\n\n.main {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  box-sizing: border-box;\n}\n\n.app-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 24px;\n}\n\n.app-title {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 700;\n}\n\n.content {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n}\n\n.card {\n  width: 100%;\n  max-width: 480px;\n  background: #ffffff;\n  border-radius: 12px;\n  border: 1px solid #e5e7eb;\n  padding: 20px;\n  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.35);\n}\n\n.card h2 {\n  margin-top: 0;\n  margin-bottom: 8px;\n  font-size: 16px;\n  font-weight: 700;\n}\n\n.card p {\n  margin: 0;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.theme-toggle {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 12px;\n  border-radius: 999px;\n  border: 1px solid #e5e7eb;\n  background: #eef2ff;\n  color: #020617;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: transform 120ms ease, box-shadow 120ms ease;\n}\n\n.theme-toggle .icon {\n  font-size: 16px;\n}\n\n.theme-toggle:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 10px 25px rgba(15, 23, 42, 0.3);\n}\n\n:root[data-theme='dark'] .main {\n  background: #020617;\n  color: #e5e7eb;\n}\n\n:root[data-theme='dark'] .card {\n  background: #020617;\n  border-color: #1f2937;\n  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.75);\n}\n\n:root[data-theme='dark'] .theme-toggle {\n  background: #111827;\n  border-color: #1f2937;\n  color: #e5e7eb;\n}\n",
        "tsconfig.json": "{\n  \"compilerOptions\": {\n    \"jsx\": \"react-jsx\",\n    \"target\": \"ES2020\",\n    \"module\": \"ESNext\",\n    \"strict\": true\n  }\n}\n"
    }
}