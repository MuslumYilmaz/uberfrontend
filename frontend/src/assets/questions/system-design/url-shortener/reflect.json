{
    "key": "R",
    "title": "Reflect & Requirements",
    "blocks": [
        {
            "type": "text",
            "text": "Before designing a URL Shortener, we first clarify the problem in the simplest terms: take a long URL, create a short code, and redirect users instantly. Because almost all traffic is reads (redirects), the system must be extremely fast and globally optimized."
        },
        {
            "type": "text",
            "text": "## Why this problem matters\nA URL shortener looks small, but it represents classic system design challenges:\n- Fast lookups and heavy caching\n- Massive read traffic globally\n- Token uniqueness and collision avoidance\n- Security and abuse protection\n- Clean API design and robust data modeling"
        },
        {
            "type": "text",
            "text": "## Core User Journeys\n1. **Create:** User submits a long URL (plus optional custom alias or expiration).\n2. **Share:** The generated short link is shared across the internet.\n3. **Redirect:** Visitors click the short link → system redirects instantly.\n4. **Manage:** Users/admins can delete, disable, or expire links.\n\nThese flows define almost every requirement in the system."
        },
        {
            "type": "callout",
            "variant": "info",
            "title": "Key Questions to Ask at the Start",
            "text": "- Should links expire or last forever?\n- Are custom aliases allowed? What if there's a conflict?\n- What level of analytics is required (basic vs detailed)?\n- Is the system global? Should redirects be edge-optimized?\n- Should we check for malicious or unsafe URLs?\n- Do we store any user data? Are there privacy rules?\n- Do we support customer-specific domains?"
        },
        {
            "type": "text",
            "text": "## Functional Requirements (What the system must do)\n- Convert a long URL into a short link.\n- Redirect short links quickly and reliably.\n- Ensure generated tokens are unique.\n- Allow deleting, disabling, or expiring links.\n- Optional: maintain basic analytics (click count, last clicked)."
        },
        {
            "type": "text",
            "text": "## Non-functional Requirements (How the system should behave)\n- Very low redirect latency (<50ms globally).\n- Extremely high availability (99.99%+).\n- Able to handle sudden viral spikes.\n- Resistant to abuse (bots, malicious URLs, spam links)."
        },
        {
            "type": "image",
            "src": "https://placehold.co/1000x560/111318/ffffff?text=Create+%E2%86%92+Share+%E2%86%92+Redirect",
            "alt": "High-level user flow",
            "caption": "High-level flow: Create → Share → Redirect",
            "width": 1000,
            "height": 560
        }
    ]
}