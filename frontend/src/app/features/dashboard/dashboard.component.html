<div class="dash">
    <div class="container">

        <header class="page-header">
            <h1>Prepare</h1>
        </header>

        <!-- Recommended -->
        <section class="block">
            <div class="block-title">Recommended preparation</div>
            <div class="grid grid-2">
                <ng-container *ngFor="let card of recommended; trackBy: trackByTitle">
                    <!-- Enabled -->
                    <a *ngIf="card.route && !card.disabled; else recDisabled" class="row" [routerLink]="card.route"
                        [queryParams]="card.queryParams">

                        <div class="row-icon"><i [ngClass]="piIcon(card.icon)"></i></div>
                        <div class="row-body">
                            <div class="row-title">{{ card.title }}</div>
                            <div class="row-sub">{{ card.subtitle }}</div>
                        </div>
                        <div class="row-arrow">→</div>
                    </a>

                    <!-- Disabled -->
                    <ng-template #recDisabled>
                        <div class="row disabled">
                            <div class="row-icon"><i [ngClass]="piIcon(card.icon)"></i></div>
                            <div class="row-body">
                                <div class="row-title">
                                    {{ card.title }}
                                    <span *ngIf="card.badge" class="badge">{{ card.badge }}</span>
                                </div>
                                <div class="row-sub">{{ card.subtitle }}</div>
                            </div>
                            <div class="row-arrow">→</div>
                        </div>
                    </ng-template>
                </ng-container>
            </div>
            <div class="hr"></div>
        </section>

        <!-- Study plans -->
        <section class="block">
            <div class="block-title">Study plans</div>
            <div class="grid grid-2">
                <a *ngFor="let card of studyPlans; trackBy: trackByTitle" class="row" [routerLink]="card.route">
                    <div class="row-icon"><i [ngClass]="piIcon(card.icon)"></i></div>
                    <div class="row-body">
                        <div class="row-title">{{ card.title }}</div>
                        <div class="row-sub">{{ card.subtitle }}</div>
                    </div>
                    <div class="row-arrow">→</div>
                </a>
            </div>
            <div class="hr"></div>
        </section>

        <!-- Company guides -->
        <section class="block">
            <div class="block-title">Company guides</div>

            <ng-container *ngIf="stats$ | async as stats">
                <div class="grid grid-2">
                    <a *ngFor="let card of companyGuides; trackBy: trackByTitle" class="row" [routerLink]="card.route">
                        <div class="row-icon"><i [ngClass]="piIcon(card.icon)"></i></div>
                        <div class="row-body">
                            <div class="row-title">{{ card.title }}</div>
                            <div class="row-sub">
                                {{ getCompanySubtitle(card, stats.companyCounts) }}
                            </div>
                        </div>
                        <div class="row-arrow">→</div>
                    </a>
                </div>
            </ng-container>
            <div class="hr"></div>
        </section>

        <!-- Focus areas -->
        <section class="block">
            <div class="block-title">Focus areas</div>

            <ng-container *ngIf="stats$ | async as stats">
                <div class="grid grid-2">
                    <a *ngFor="let card of focusAreas; trackBy: trackByTitle" class="row" [routerLink]="card.route"
                        [queryParams]="card.queryParams">
                        <div class="row-icon">
                            <i [ngClass]="piIcon(card.icon)"></i>
                        </div>
                        <div class="row-body">
                            <div class="row-title">{{ card.title }}</div>
                            <div class="row-sub">
                                {{ getFocusSubtitle(card, stats.focusCounts) }}
                            </div>
                        </div>
                        <div class="row-arrow">→</div>
                    </a>
                </div>
            </ng-container>

            <div class="hr"></div>
        </section>

        <!-- Question formats -->
        <section class="block">
            <div class="block-title">Question formats</div>

            <ng-container *ngIf="stats$ | async as stats">
                <div class="grid grid-2">
                    <a *ngFor="let card of questionFormats; trackBy: trackByTitle" class="row" [routerLink]="card.route"
                        [queryParams]="card.queryParams">
                        <div class="row-icon">
                            <i [ngClass]="piIcon(card.icon)"></i>
                        </div>
                        <div class="row-body">
                            <div class="row-title">{{ card.title }}</div>
                            <div class="row-sub">
                                {{ getFormatSubtitle(card, stats) }}
                            </div>
                        </div>
                        <div class="row-arrow">→</div>
                    </a>
                </div>
            </ng-container>

            <div class="hr"></div>
        </section>

        <!-- Frameworks & languages -->
        <section class="block">
            <div class="block-title">Frameworks and languages</div>

            <ng-container *ngIf="stats$ | async as stats">
                <div class="grid grid-2">
                    <a *ngFor="let card of frameworks; trackBy: trackByTitle" class="row" [routerLink]="card.route"
                        [queryParams]="card.queryParams">
                        <div class="row-icon"><i [ngClass]="piIcon(card.icon)"></i></div>
                        <div class="row-body">
                            <div class="row-title">{{ card.title }}</div>
                            <div class="row-sub">
                                {{ getFrameworkSubtitle(card, stats.techCounts) }}
                            </div>
                        </div>
                        <div class="row-arrow">→</div>
                    </a>
                </div>
            </ng-container>
        </section>
    </div>
    <app-offline-banner></app-offline-banner>
</div>