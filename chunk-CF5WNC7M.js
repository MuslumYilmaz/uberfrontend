import{a as ne,b as re,c as oe,d as le}from"./chunk-CP2FEOB2.js";import{b as U,c as X,d as Y,e as Z}from"./chunk-Y35KFIIH.js";import{b as te,c as ie}from"./chunk-HDLSRK6N.js";import{b as ae,c as se}from"./chunk-J6G4HNQ6.js";import"./chunk-XGA4XHER.js";import{u as ee,v as pe}from"./chunk-LRKS3OET.js";import"./chunk-NMGI7OHJ.js";import{$ as s,Aa as P,C as h,Ca as N,D as b,Da as T,Ea as Q,Ja as y,Ka as v,La as A,Ma as W,N as a,O as D,Wa as j,Xa as R,Z as f,_a as z,ab as G,bb as H,ea as i,fa as r,g as S,ga as x,ha as C,ia as w,j as _,k as L,ka as F,la as k,ma as M,n as E,nb as J,pb as K,ta as $,ua as p,va as B,wa as O,y as I,ya as V,za as q}from"./chunk-7AD4LDIW.js";var me=()=>({standalone:!0}),de=()=>[],ce=e=>[e];function ge(e,d){e&1&&(C(0),i(1,"div",16),x(2,"p-progressSpinner",17),r(),w())}function fe(e,d){e&1&&(i(0,"div",21),p(1," No questions match your filters. "),r())}function ue(e,d){if(e&1&&x(0,"p-chip",29),e&2){let n=d.$implicit;s("label",n)}}function xe(e,d){if(e&1&&(i(0,"div",22),x(1,"a",23),i(2,"div",12)(3,"div",24),p(4),r(),i(5,"div",25),p(6),y(7,"slice"),r()(),i(8,"div",26),f(9,ue,1,1,"p-chip",27),r(),i(10,"div",14)(11,"div",28)(12,"span"),p(13,"\u2192"),r(),i(14,"span"),p(15,"Open"),r()()()()),e&2){let n=d.$implicit;a(),s("routerLink",Q(8,ce,n.id)),a(3),B(n.title),a(2),O("",A(7,4,n.description,0,120),"..."),a(3),s("ngForOf",n.tags)}}function ye(e,d){if(e&1&&(C(0),f(1,fe,2,0,"div",19)(2,xe,16,10,"div",20),w()),e&2){let n=d.ngIf,o=M(2);a(),s("ngIf",n.length===0),a(),s("ngForOf",n)("ngForTrackBy",o.trackById)}}function _e(e,d){if(e&1&&(f(0,ye,3,3,"ng-container",18),y(1,"async")),e&2){let n=M();s("ngIf",v(1,1,n.filtered$))}}var Pe=(()=>{class e{constructor(n){this.qs=n,this.searchTerm="",this.search$=new S(""),this.tags$=new S([]),this.rawQuestions$=this.qs.loadSystemDesign().pipe(E([])),this.tagOptions$=this.rawQuestions$.pipe(_(o=>Array.from(new Set(o.flatMap(t=>t.tags))).sort()),_(o=>o.map(t=>({label:t,value:t})))),this.filtered$=L([this.rawQuestions$,this.search$,this.tags$]).pipe(_(([o,t,l])=>{let c=t.trim().toLowerCase(),m=g=>l.length===0||l.every(u=>g.includes(u));return o.filter(g=>(g.title.toLowerCase().includes(c)||g.tags.some(u=>u.toLowerCase().includes(c)))&&m(g.tags)).sort((g,u)=>g.title.localeCompare(u.title))})),this.trackById=(o,t)=>t.id}static{this.\u0275fac=function(o){return new(o||e)(D(pe))}}static{this.\u0275cmp=I({type:e,selectors:[["app-system-design-list"]],standalone:!0,features:[N],decls:23,vars:11,consts:[["loaded",""],[1,"container","mx-auto","max-w-7xl","px-4","py-6"],[1,"text-4xl","font-extrabold","text-white","mb-6"],[1,"bg-gray-800","p-4","rounded-xl","shadow-sm","flex","flex-col","md:flex-row","items-center","md:space-x-6","mb-8","gap-4"],[1,"flex-1","w-full","md:w-1/2"],[1,"relative"],[1,"pi","pi-search","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["pInputText","","type","text","placeholder","Search by title or tag\u2026",1,"w-full","pl-10","pr-4","py-2","bg-gray-900","text-white","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel","ngModelOptions"],[1,"w-full","md:w-auto","flex-1"],["placeholder","Tags","display","chip","panelStyleClass","dark-multiselect-panel rounded-lg","optionLabel","label","optionValue","value",1,"tag-filter","w-full",3,"onChange","options"],[1,"bg-gray-800","rounded-xl","overflow-hidden"],[1,"grid","grid-cols-12","gap-4","px-6","py-3","border-b","border-gray-700","text-gray-400","text-sm","font-semibold"],[1,"col-span-8"],[1,"col-span-3"],[1,"col-span-1","text-right"],[4,"ngIf","ngIfElse"],[1,"py-10","flex","justify-center"],["styleClass","text-blue-500"],[4,"ngIf"],["class","py-6 text-center italic text-gray-500",4,"ngIf"],["class","grid grid-cols-12 gap-4 items-center px-6 py-4 border-b border-gray-700 hover:bg-gray-900 relative",4,"ngFor","ngForOf","ngForTrackBy"],[1,"py-6","text-center","italic","text-gray-500"],[1,"grid","grid-cols-12","gap-4","items-center","px-6","py-4","border-b","border-gray-700","hover:bg-gray-900","relative"],[1,"absolute","inset-0","z-10",3,"routerLink"],[1,"text-lg","font-semibold","text-white"],[1,"text-xs","text-gray-400","mt-0.5"],[1,"col-span-3","flex","flex-wrap","gap-2"],["styleClass","custom-chip",3,"label",4,"ngFor","ngForOf"],[1,"text-blue-400","hover:text-blue-500","font-medium","flex","items-center","gap-1"],["styleClass","custom-chip",3,"label"]],template:function(o,t){if(o&1){let l=F();i(0,"div",1)(1,"h1",2),p(2," System Design "),r(),i(3,"div",3)(4,"div",4)(5,"div",5),x(6,"i",6),i(7,"input",7),P("ngModelChange",function(m){return h(l),q(t.searchTerm,m)||(t.searchTerm=m),b(m)}),k("ngModelChange",function(m){return h(l),b(t.search$.next(m))}),r()()(),i(8,"div",8)(9,"p-multiSelect",9),y(10,"async"),k("onChange",function(m){return h(l),b(t.tags$.next(m.value))}),r()()(),i(11,"div",10)(12,"div",11)(13,"div",12),p(14,"Title"),r(),i(15,"div",13),p(16,"Tags"),r(),i(17,"div",14),p(18,"Action"),r()(),f(19,ge,3,0,"ng-container",15),y(20,"async"),f(21,_e,2,3,"ng-template",null,0,W),r()()}if(o&2){let l,c=$(22);a(7),V("ngModel",t.searchTerm),s("ngModelOptions",T(9,me)),a(2),s("options",(l=v(10,5,t.tagOptions$))!==null&&l!==void 0?l:T(10,de)),a(10),s("ngIf",v(20,7,t.rawQuestions$)===null)("ngIfElse",c)}},dependencies:[H,j,R,z,G,K,J,Z,U,X,Y,re,ne,le,oe,se,ae,ie,te,ee],styles:["[_nghost-%COMP%]{display:block}  .tag-filter{flex:0 0 auto;min-width:240px}  .tag-filter .p-multiselect{display:flex;flex:1;background:#1f2737;border:1px solid #2f3750;border-radius:8px;color:#e3e8ff}  .tag-filter .p-multiselect .p-multiselect-label,   .tag-filter .p-multiselect .p-placeholder{background:transparent;color:#cdd6f4}  .tag-filter .p-multiselect .p-multiselect-trigger{color:#cdd6f4}  .tag-filter .p-multiselect-token{background:#ffffff14;color:#e3e8ff;border-radius:9999px;padding:2px 8px;margin-right:4px;font-size:.85rem}  .dark-multiselect-panel{min-width:260px;background:#1f2737!important;border:1px solid #2f3750!important;color:#e3e8ff!important;box-shadow:0 8px 24px #0006!important}  .dark-multiselect-panel .p-multiselect-header{background:#1f2737;border-bottom:1px solid #2f3750;padding:6px 8px}  .dark-multiselect-panel .p-multiselect-filter-container input{background:#273046;border:1px solid #2f3750;color:#e3e8ff}  .dark-multiselect-panel .p-multiselect-item{background:transparent;padding:.5rem 1rem;color:#e3e8ff}  .dark-multiselect-panel .p-multiselect-item:hover{background:#ffffff0a}  .dark-multiselect-panel .p-multiselect-item.p-highlight{background:#ffffff0f}  .dark-multiselect-panel .p-multiselect-close{color:#e3e8ff}  .dark-multiselect-panel .p-multiselect-item .p-checkbox-box{background:transparent;border:1px solid #2f3750}  .dark-multiselect-panel .p-multiselect-item.p-highlight .p-checkbox-box{background:#ffffff14;border-color:#5a9df9}"]})}}return e})();export{Pe as SystemDesignListComponent};
