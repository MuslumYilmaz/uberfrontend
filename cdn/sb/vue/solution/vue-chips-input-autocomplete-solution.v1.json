{
  "dependencies": {
    "vue": "3.x"
  },
  "openFile": "/src/App.vue",
  "files": {
    "package.json": "{\"name\":\"vue-chips-input-autocomplete-solution\",\"version\":\"0.1.0\",\"private\":true,\"dependencies\":{\"vue\":\"3.x\"},\"scripts\":{\"serve\":\"vue-cli-service serve\"}}\n",
    "public/index.html": "<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>Vue SDK • Invite Chips</title></head><body><div id=\"app\"></div></body></html>",
    "src/main.ts": "import { createApp } from 'vue';\nimport App from './App.vue';\nimport './App.css';\n\ncreateApp(App).mount('#app');\n",
    "src/App.vue": "<template>\n  <main class=\"page\">\n    <section class=\"card\">\n      <h1>Invite people</h1>\n      <p class=\"subtitle\">\n        Build a chips input with autocomplete, keyboard shortcuts, and removable tags.\n      </p>\n\n      <div\n        ref=\"rootRef\"\n        class=\"combobox\"\n        role=\"combobox\"\n        :aria-expanded=\"isOpen\"\n        aria-haspopup=\"listbox\"\n        :aria-owns=\"listboxId\"\n        :aria-activedescendant=\"activeDescendant\"\n      >\n        <div class=\"chip-input\">\n          <span class=\"chip\" v-for=\"chip in chips\" :key=\"chip.id\">\n            <span>{{ chip.label }}</span>\n            <button\n              type=\"button\"\n              class=\"chip-remove\"\n              @click=\"removeChip(chip.id)\"\n              :aria-label=\"'Remove ' + chip.label\"\n            >\n              ×\n            </button>\n          </span>\n\n          <input\n            type=\"text\"\n            v-model=\"query\"\n            @focus=\"onFocus\"\n            @keydown=\"onKeyDown\"\n            placeholder=\"Type a name or email...\"\n          />\n        </div>\n\n        <ul v-if=\"isOpen\" :id=\"listboxId\" class=\"suggestions\" role=\"listbox\">\n          <li\n            v-for=\"(item, index) in suggestions\"\n            :key=\"item.id\"\n            :id=\"optionId(index)\"\n            role=\"option\"\n            :aria-selected=\"index === activeIndex\"\n            class=\"suggestion\"\n            :class=\"{ active: index === activeIndex }\"\n            @mousedown=\"selectSuggestion(item)\"\n          >\n            <strong>{{ item.label }}</strong>\n            <span>{{ item.value }}</span>\n          </li>\n        </ul>\n      </div>\n\n      <p class=\"hint\">\n        Keyboard: Arrow keys navigate, Enter/comma add chip, Backspace removes the last chip.\n      </p>\n    </section>\n  </main>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onBeforeUnmount, onMounted, ref, watch } from 'vue';\n\ntype Candidate = {\n  id: string;\n  name: string;\n  email: string;\n};\n\ntype Chip = {\n  id: string;\n  label: string;\n  value: string;\n};\n\nconst USERS: Candidate[] = [\n  { id: 'alice', name: 'Alice Johnson', email: 'alice@frontendatlas.dev' },\n  { id: 'bob', name: 'Bob Smith', email: 'bob@frontendatlas.dev' },\n  { id: 'charlie', name: 'Charlie Kim', email: 'charlie@frontendatlas.dev' },\n  { id: 'diana', name: 'Diana Lopez', email: 'diana@frontendatlas.dev' },\n  { id: 'ethan', name: 'Ethan Brown', email: 'ethan@frontendatlas.dev' },\n  { id: 'fiona', name: 'Fiona Patel', email: 'fiona@frontendatlas.dev' },\n  { id: 'george', name: 'George Miller', email: 'george@frontendatlas.dev' }\n];\n\nconst rootRef = ref<HTMLElement | null>(null);\nconst listboxId = 'invite-suggestions';\n\nconst chips = ref<Chip[]>([]);\nconst query = ref('');\nconst isOpen = ref(false);\nconst activeIndex = ref(-1);\n\nconst suggestions = computed<Chip[]>(() => {\n  const needle = normalize(query.value);\n  if (!needle) return [];\n\n  const selectedIds = new Set(chips.value.map((chip) => chip.id));\n\n  return USERS\n    .filter((user) => {\n      if (selectedIds.has(user.id)) return false;\n      const haystack = (user.name + ' ' + user.email).toLowerCase();\n      return haystack.includes(needle);\n    })\n    .slice(0, 6)\n    .map((user) => ({\n      id: user.id,\n      label: user.name,\n      value: user.email\n    }));\n});\n\nconst activeDescendant = computed(() =>\n  activeIndex.value >= 0 ? optionId(activeIndex.value) : undefined\n);\n\nfunction addChip(chip: Chip) {\n  const hasDuplicate = chips.value.some(\n    (item) => item.id === chip.id || normalize(item.value) === normalize(chip.value)\n  );\n\n  if (hasDuplicate) {\n    query.value = '';\n    isOpen.value = false;\n    activeIndex.value = -1;\n    return;\n  }\n\n  chips.value = [...chips.value, chip];\n  query.value = '';\n  isOpen.value = false;\n  activeIndex.value = -1;\n}\n\nfunction addCustomFromQuery() {\n  const raw = query.value.trim();\n  if (!raw) return;\n\n  addChip({\n    id: 'custom-' + normalize(raw),\n    label: raw,\n    value: raw\n  });\n}\n\nfunction removeChip(chipId: string) {\n  chips.value = chips.value.filter((chip) => chip.id !== chipId);\n  syncOpenState();\n}\n\nfunction selectSuggestion(chip: Chip) {\n  addChip(chip);\n}\n\nfunction onKeyDown(event: KeyboardEvent) {\n  const options = suggestions.value;\n  const len = options.length;\n\n  if (event.key === 'ArrowDown') {\n    event.preventDefault();\n    if (!len) return;\n    isOpen.value = true;\n    activeIndex.value = activeIndex.value < 0 ? 0 : (activeIndex.value + 1) % len;\n    return;\n  }\n\n  if (event.key === 'ArrowUp') {\n    event.preventDefault();\n    if (!len) return;\n    isOpen.value = true;\n    activeIndex.value = activeIndex.value < 0 ? len - 1 : (activeIndex.value - 1 + len) % len;\n    return;\n  }\n\n  if (event.key === 'Enter') {\n    event.preventDefault();\n    if (isOpen.value && activeIndex.value >= 0 && activeIndex.value < len) {\n      addChip(options[activeIndex.value]);\n    } else {\n      addCustomFromQuery();\n    }\n    return;\n  }\n\n  if (event.key === ',') {\n    event.preventDefault();\n    addCustomFromQuery();\n    return;\n  }\n\n  if (event.key === 'Backspace' && !query.value && chips.value.length > 0) {\n    chips.value = chips.value.slice(0, -1);\n    syncOpenState();\n    return;\n  }\n\n  if (event.key === 'Escape') {\n    isOpen.value = false;\n    activeIndex.value = -1;\n  }\n}\n\nwatch(query, () => {\n  activeIndex.value = -1;\n  syncOpenState();\n});\n\nfunction onFocus() {\n  syncOpenState();\n}\n\nfunction optionId(index: number): string {\n  return 'invite-option-' + String(index);\n}\n\nfunction normalize(value: string): string {\n  return value.trim().toLowerCase();\n}\n\nfunction syncOpenState() {\n  const hasQuery = normalize(query.value).length > 0;\n  isOpen.value = hasQuery && suggestions.value.length > 0;\n  if (!isOpen.value) {\n    activeIndex.value = -1;\n  }\n}\n\nfunction onDocMouseDown(event: MouseEvent) {\n  const target = event.target as Node | null;\n  if (!target || !rootRef.value) return;\n  if (!rootRef.value.contains(target)) {\n    isOpen.value = false;\n    activeIndex.value = -1;\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('mousedown', onDocMouseDown);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener('mousedown', onDocMouseDown);\n});\n</script>\n",
    "src/App.css": ":root{color-scheme:dark;}\nhtml,body{margin:0;height:100%;background:#0a0a0a;}\nbody{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}\n.page{min-height:100vh;display:grid;place-items:center;padding:24px;background:#0a0a0a;color:#e5e7eb;}\n.card{width:100%;max-width:640px;background:#0b1020;border:1px solid #1f2937;border-radius:14px;padding:18px;display:grid;gap:12px;}\nh1{margin:0;font-size:20px;}\n.subtitle{margin:0;color:#9ca3af;font-size:14px;line-height:1.45;}\n.combobox{position:relative;}\n.chip-input{display:flex;flex-wrap:wrap;align-items:center;gap:8px;padding:10px;border-radius:12px;border:1px solid #374151;background:#0a0f1e;}\n.chip-input:focus-within{border-color:#a3e635;box-shadow:0 0 0 2px rgba(163,230,53,.15);}\n.chip{display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border-radius:999px;background:#172036;border:1px solid #2c3c62;font-size:13px;}\n.chip-remove{border:none;background:transparent;color:#9ca3af;cursor:pointer;font-size:16px;line-height:1;padding:0;}\n.chip-remove:hover{color:#e5e7eb;}\n.chip-input input{flex:1;min-width:180px;border:none;outline:none;background:transparent;color:#e5e7eb;font-size:14px;padding:4px 0;}\n.chip-input input::placeholder{color:#6b7280;}\n.suggestions{position:absolute;left:0;right:0;z-index:10;margin-top:8px;max-height:260px;overflow:auto;border-radius:12px;border:1px solid #1f2937;background:#0a0f1e;padding:0;list-style:none;}\n.suggestion{display:grid;gap:2px;padding:10px 12px;border-bottom:1px solid rgba(31,41,55,.5);cursor:pointer;}\n.suggestion:last-child{border-bottom:none;}\n.suggestion span{font-size:12px;color:#9ca3af;}\n.suggestion.active{background:rgba(163,230,53,.12);}\n.hint{margin:0;color:#9ca3af;font-size:12px;}\n",
    "tsconfig.json": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"Node\",\n    \"strict\": true,\n    \"allowJs\": true\n  }\n}\n"
  }
}
