[
    {
        "id": "react-counter",
        "title": "Counter (Component with Guarded Decrement)",
        "type": "coding",
        "technology": "react",
        "difficulty": "beginner",
        "importance": 3,
        "tags": [
            "react",
            "state",
            "event-handlers",
            "components"
        ],
        "description": {
            "summary": "Build a simple <Counter /> component that displays a value and has '+' and '-' buttons. The count must never go below 0.",
            "specs": {
                "requirements": [
                    "Render a <Counter /> as the main UI.",
                    "Display the current count value.",
                    "Provide '+' and '-' buttons to increment and decrement.",
                    "Prevent the count from ever going below 0."
                ],
                "expectedBehavior": [
                    "Clicking '+' increases the count by 1.",
                    "Clicking '-' decreases the count by 1, but never below 0.",
                    "Initial count starts at 0."
                ],
                "implementationNotes": [
                    "Use React state (useState) to store the count.",
                    "Guard the decrement so it never sets a negative value.",
                    "Keep everything in a single small component for this exercise."
                ],
                "techFocus": [
                    "React useState",
                    "Event handlers",
                    "Basic component structure"
                ]
            }
        },
        "solutionBlock": {
            "overview": "Use a single piece of state managed with `useState(0)` to store the count. The '+' button increments by 1. The '-' button should call `setCount` with `Math.max(0, count - 1)` (or equivalent) so the value never goes negative.\n\n**Key ideas**\n- Co-locate state in the component.\n- Use click handlers for both buttons.\n- Always guard the decrement.\n\n**Test cases**\n- Initial render shows `0`.\n- Clicking '+' increments.\n- Clicking '-' at 0 leaves the value at 0.\n- From a positive value, clicking '-' decrements by 1 but never below 0.",
            "approaches": [
                {
                    "title": "Single component with guarded decrement",
                    "prose": "Store `count` in state and provide two handlers: one to increment, one to decrement. The decrement handler uses `Math.max(0, count - 1)` so the count never becomes negative.",
                    "codeJs": "import React, { useState } from 'react';\n\nexport default function Counter() {\n  const [count, setCount] = useState(0);\n\n  const inc = () => setCount(count + 1);\n  const dec = () => setCount(Math.max(0, count - 1));\n\n  return (\n    <main style={{ fontFamily: 'system-ui', padding: 16 }}>\n      <h1>Counter</h1>\n      <p data-testid=\"value\">{count}</p>\n      <button onClick={dec} aria-label=\"decrement\">-</button>\n      <button onClick={inc} aria-label=\"increment\">+</button>\n    </main>\n  );\n}\n"
                }
            ],
            "notes": {
                "pitfalls": [
                    "Updating the value without clamping, which allows negatives.",
                    "Recomputing from stale state instead of using the current value correctly."
                ],
                "techniques": [
                    "Using `useState` for local component state.",
                    "Guarding updates with `Math.max`."
                ]
            }
        },
        "sdk": {
            "asset": "assets/sb/react/question/react-counter.v1.json",
            "openFile": "/src/App.tsx",
            "storageKey": "v2:ui:react:react-counter"
        },
        "solutionAsset": "assets/sb/react/solution/react-counter-solution.v1.json",
        "companies": [
            "meta",
            "google"
        ]
    }
]