import{a as G,b as H,c as J,d as K}from"./chunk-LKT7NECQ.js";import{b as W,c as Q}from"./chunk-HDLSRK6N.js";import"./chunk-XGA4XHER.js";import{t as z,u as L,v as U}from"./chunk-LRKS3OET.js";import"./chunk-NMGI7OHJ.js";import{$ as s,Ca as O,Da as A,Ea as M,L as w,Ma as R,N as i,O as x,Ra as _,W as y,Wa as F,Xa as P,Z as g,aa as b,bb as q,ea as a,fa as r,ga as v,ha as I,ia as D,kb as $,la as f,ma as m,mb as B,nb as j,pb as N,ta as T,ua as c,va as S,wa as C,xa as E,y as k}from"./chunk-7AD4LDIW.js";var V=()=>({enabled:!1}),X=t=>({minimap:t,lineNumbers:"on",folding:!0});function Y(t,p){if(t&1&&v(0,"p-chip",26),t&2){let e=p.$implicit;s("label",e)}}function Z(t,p){if(t&1&&(a(0,"div",34),c(1),r()),t&2){let e=m().$implicit;i(),C(" ",e.text," ")}}function ee(t,p){if(t&1&&(a(0,"div"),v(1,"app-monaco-editor",35),r()),t&2){let e=m().$implicit;i(),b("height",e.height||280,"px"),s("language",e.language||"typescript")("code",e.code)("readOnly",!0)("options",M(7,X,A(6,V)))}}function te(t,p){if(t&1&&(a(0,"figcaption",39),c(1),r()),t&2){let e=m(2).$implicit;i(),C(" ",e.caption," ")}}function ie(t,p){if(t&1&&(a(0,"figure",36),v(1,"img",37),g(2,te,2,1,"figcaption",38),r()),t&2){let e=m().$implicit,n=m(3);i(),b("width",e.width||null,"px"),s("src",n.asset(e.src),w)("alt",e.alt||""),i(),s("ngIf",e.caption)}}function ne(t,p){if(t&1&&(I(0),g(1,Z,2,1,"div",31)(2,ee,2,9,"div",32)(3,ie,3,5,"figure",33),D()),t&2){let e=p.$implicit;i(),s("ngIf",e.type==="text"),i(),s("ngIf",e.type==="code"),i(),s("ngIf",e.type==="image")}}function oe(t,p){if(t&1&&(I(0),g(1,ne,4,3,"ng-container",30),D()),t&2){let e=m().$implicit;i(),s("ngForOf",e.blocks)}}function ae(t,p){if(t&1&&(a(0,"div",40),c(1),r()),t&2){let e=m().$implicit;i(),C(" ",e.content," ")}}function re(t,p){if(t&1&&(a(0,"p-accordionTab",27)(1,"div",28),g(2,oe,2,1,"ng-container",29)(3,ae,2,1,"ng-template",null,0,R),r()()),t&2){let e=p.$implicit,n=T(4);s("header",e.title),i(2),s("ngIf",e.blocks==null?null:e.blocks.length)("ngIfElse",n)}}function le(t,p){t&1&&(a(0,"div",41),c(1," No RADIO sections found for this question yet. "),r())}var Ie=(()=>{class t{asset(e){return e?e.startsWith("http")?e:`assets/${e.replace(/^\/+/,"")}`:""}constructor(e,n,o){this.route=e,this.router=n,this.qs=o,this.q=y(null),this.all=[],this.idx=0,this.leftRatio=y(.35),this.activeIndexes=y([0]),this.title=_(()=>this.q()?.title??""),this.description=_(()=>this.q()?.description??""),this.tags=_(()=>this.q()?.tags??[]),this.sections=_(()=>{let l=this.q();if(!l)return[];let h=d=>({key:d.key,title:d.title,content:d.content??"",blocks:d.blocks&&d.blocks.length?d.blocks:d.content?[{type:"text",text:d.content}]:[]});if(l.radio?.length)return l.radio.map(h);let u=[];return l.reflect&&u.push({key:"R",title:"Reflect & Requirements",content:l.reflect}),l.assumptions&&u.push({key:"A",title:"Assumptions & Constraints",content:l.assumptions}),l.diagram&&u.push({key:"D",title:"Diagram / Architecture",content:l.diagram}),l.interface&&u.push({key:"I",title:"Interfaces & APIs",content:l.interface}),l.operations&&u.push({key:"O",title:"Operations & Trade-offs",content:l.operations}),u.map(h)})}ngOnInit(){this.qs.loadQuestions("system-design","system-design").subscribe(e=>{this.all=e;let n=this.route.snapshot.paramMap.get("id");this.setCurrentById(n)}),this.route.paramMap.subscribe(e=>{let n=e.get("id");n&&this.setCurrentById(n)})}ngOnDestroy(){}setCurrentById(e){let n=this.all.findIndex(o=>o.id===e);n>=0&&(this.idx=n,this.q.set(this.all[n]),this.activeIndexes.set([0]),this.leftRatio.set(window.innerWidth<1024?1:.35))}onActiveIndexChange(e){this.activeIndexes.set(Array.isArray(e)?e:[e])}expandAll(){this.activeIndexes.set(this.sections().map((e,n)=>n))}collapseAll(){this.activeIndexes.set([])}prev(){if(this.idx>0){let e=this.all[this.idx-1].id;this.router.navigate(["/system-design",e])}}next(){if(this.idx+1<this.all.length){let e=this.all[this.idx+1].id;this.router.navigate(["/system-design",e])}}static{this.\u0275fac=function(n){return new(n||t)(x($),x(B),x(U))}}static{this.\u0275cmp=k({type:t,selectors:[["app-system-design-detail"]],standalone:!0,features:[O],decls:33,vars:13,consts:[["legacyText",""],[1,"flex","h-full","min-h-0"],[1,"flex","flex-col","min-h-0",2,"min-width","280px","border-right","1px solid rgba(255,255,255,.08)"],[1,"flex","items-center","justify-between","px-5","py-4","bg-neutral-900","text-white"],[1,"text-xl","font-bold","truncate"],[1,"flex-1","overflow-auto","p-6","bg-black","text-white"],[1,"text-sm","text-gray-300","whitespace-pre-line"],[1,"mt-4","flex","flex-wrap","gap-2"],["styleClass","custom-chip",3,"label",4,"ngFor","ngForOf"],[1,"mt-6","p-3","rounded","bg-neutral-800/70","text-sm","text-gray-300"],["routerLink","/guides/radio",1,"text-blue-300","underline"],[1,"flex-none","px-4","py-3","bg-neutral-800","text-white","flex","items-center","justify-between"],["pButton","","label","\u2190 Prev",3,"click","disabled"],[1,"text-sm"],["pButton","","label","Next \u2192","iconPos","right",3,"click","disabled"],[1,"flex-1","min-w-0","min-h-0","flex","flex-col","bg-gray-800","text-white"],[1,"px-5","py-3","flex","items-center","justify-between","border-b","border-white/10"],[1,"font-semibold"],[1,"flex","gap-2"],["routerLink","/guides/radio",1,"text-xs","text-blue-300","underline"],["pButton","","size","small","label","Expand all",3,"click"],["pButton","","size","small","label","Collapse all",1,"p-button-secondary",3,"click"],[1,"flex-1","overflow-auto","p-5"],[3,"activeIndexChange","multiple","activeIndex"],[3,"header",4,"ngFor","ngForOf"],["class","text-gray-300",4,"ngIf"],["styleClass","custom-chip",3,"label"],[3,"header"],[1,"space-y-4"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","whitespace-pre-wrap leading-6 text-gray-200",4,"ngIf"],[4,"ngIf"],["class","space-y-2",4,"ngIf"],[1,"whitespace-pre-wrap","leading-6","text-gray-200"],[1,"rounded","border","border-white/10",3,"language","code","readOnly","options"],[1,"space-y-2"],[1,"max-w-full","rounded-lg","border","border-white/10",3,"src","alt"],["class","text-sm text-gray-400",4,"ngIf"],[1,"text-sm","text-gray-400"],[1,"prose","prose-invert","max-w-none","whitespace-pre-wrap","leading-6"],[1,"text-gray-300"]],template:function(n,o){n&1&&(a(0,"div",1)(1,"aside",2)(2,"div",3)(3,"h1",4),c(4),r()(),a(5,"div",5)(6,"div",6),c(7),r(),a(8,"div",7),g(9,Y,1,1,"p-chip",8),r(),a(10,"div",9),c(11," New to RADIO? "),a(12,"a",10),c(13,"Read the guide"),r(),c(14," first. "),r()(),a(15,"div",11)(16,"button",12),f("click",function(){return o.prev()}),r(),a(17,"div",13),c(18),r(),a(19,"button",14),f("click",function(){return o.next()}),r()()(),a(20,"main",15)(21,"div",16)(22,"div",17),c(23,"Solution (RADIO)"),r(),a(24,"div",18)(25,"a",19),c(26,"What is RADIO?"),r(),a(27,"button",20),f("click",function(){return o.expandAll()}),r(),a(28,"button",21),f("click",function(){return o.collapseAll()}),r()()(),a(29,"div",22)(30,"p-accordion",23),f("activeIndexChange",function(h){return o.onActiveIndexChange(h)}),g(31,re,5,3,"p-accordionTab",24)(32,le,2,0,"div",25),r()()()()),n&2&&(i(),b("flex","0 0 "+o.leftRatio()*100+"%"),i(3),S(o.title()),i(3),S(o.description()),i(2),s("ngForOf",o.tags()),i(7),s("disabled",o.idx===0),i(2),E("",o.idx+1," / ",o.all.length,""),i(),s("disabled",o.idx+1>=o.all.length),i(11),s("multiple",!0)("activeIndex",o.activeIndexes()),i(),s("ngForOf",o.sections()),i(),s("ngIf",o.sections().length===0))},dependencies:[q,F,P,N,j,J,H,G,L,z,Q,W,K],styles:["[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]     .p-chip{background:#1f2937;color:#e5e7eb;border-radius:9999px}[_nghost-%COMP%]     .p-accordion .p-accordion-header .p-accordion-header-link{background:#1f2937;color:#e5e7eb;border:1px solid rgba(255,255,255,.06)}[_nghost-%COMP%]     .p-accordion .p-accordion-header .p-accordion-header-link:hover{background:#243040}[_nghost-%COMP%]     .p-accordion .p-accordion-header:not(.p-disabled).p-highlight .p-accordion-header-link{background:#1e293b;color:#fff}[_nghost-%COMP%]     .p-accordion .p-accordion-content{background:#0f172a;color:#e5e7eb;border:1px solid rgba(255,255,255,.06)}"]})}}return t})();export{Ie as SystemDesignDetailComponent};
